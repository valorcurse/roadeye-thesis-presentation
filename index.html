<!doctype html>
<html lang="en">	
<head>
	<meta charset="utf-8">
	<title>Reveal.js 3 Slide Demo</title>
	<link rel="stylesheet" href="css/reveal.min.css">
	<link rel="stylesheet" href="css/theme/default.css" id="theme">
	<link rel="stylesheet" type="text/css" href="presentation.css" />
</head>

<body>
	<!-- Wrap the entire slide show in a div using the "reveal" class. -->
	<div class="reveal">
		<!-- Wrap all slides in a single "slides" class -->
		<div class="slides">
			<section class="" data-id="216bde8404c9eabe87fc1a424172cfac">
				<h1>RoadEye</h1>
			</section>

			<section>
				<div class="fragment current-visible" style="position: absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;">
					<h2>Bron afbeelding</h2>
					<img z-index: src="https://s3.amazonaws.com/media-p.slid.es/uploads/marceloavelino/images/482574/car.png" style="width: 795.9107744107744px; height: 533px; max-height: none; max-width: none;">
				</div>

				<div class="fragment current-visible" style="position: absolute; margin-left: auto; margin-right: auto; left: 0; right: 0;">
					<h2>Yellow segmentation</h2>
					<img src="https://s3.amazonaws.com/media-p.slid.es/uploads/marceloavelino/images/482590/yellow-segment.png" style="width: 795.9107744107744px; height: 533px; max-height: none; max-width: none;">
				</div>

				<div class="fragment current-visible" style="position: absolute; margin-left: auto; margin-right: auto; left: 0; right: 0; white-space: nowrap;">
					<h2>Band</h2>
					<img id="band-graph" src="images/band-graph.png" style="height: 533px; max-height: none; max-width: none; display: inline-block; visibility: hidden">
					<img id="yellow-segment" src="https://s3.amazonaws.com/media-p.slid.es/uploads/marceloavelino/images/482590/yellow-segment.png" style="width: 795.9107744107744px; height: 533px; max-height: none; max-width: none;">
				</div>
			</section>
		</div>
	</div>
	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.min.js"></script>

	<script>
		var pfx = ["webkit", "moz", "MS", "o", ""];
		function PrefixedEvent(element, type, callback) {
			for (var p = 0; p < pfx.length; p++) {
				if (!pfx[p]) type = type.toLowerCase();
				element.addEventListener(pfx[p]+type, callback, false);
			}
		}

		// Required, even if empty.
		Reveal.initialize({
		});
		var indices = Reveal.getIndices();
		var slideIndex = 0;

		Reveal.addEventListener('slidechanged', function( event ) {
    		// console.log("lalala");
    		// console.log(event.indexh);

    		slideIndex = event.indexh;

    		// event.previousSlide, event.currentSlide, event.indexh, event.indexv
    	});

		Reveal.addEventListener('fragmentshown', function( event ) {
    		var fragmentIndex = event.fragment.getAttribute("data-fragment-index");
    		
    		if (slideIndex == 1) {
    			console.log(fragmentIndex + ":");
    			
    			if (fragmentIndex == 2) {
    				var element = document.getElementById('yellow-segment');
    				element.className += "move-segmentation";
    				
    				// Wait for end of animation
    				PrefixedEvent(element, "AnimationEnd", AnimationListener);
    				function AnimationListener(e) {
    					if (e.type.toLowerCase().indexOf("animationend") >= 0) {
    						var bandGraph = document.getElementById("band-graph");
    						bandGraph.style.visibility = "visible";
    					}
    				}

    				console.log(event.fragment);
    			}

    			else if (fragmentIndex == 3) {
    				
    			}
    		}
    	});
	</script>
</body>
</html>

